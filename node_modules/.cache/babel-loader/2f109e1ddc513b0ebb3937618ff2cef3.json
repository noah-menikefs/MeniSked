{"ast":null,"code":"var _jsxFileName = \"/Users/noah.menikefs/Desktop/menisked/MeniSked/src/Components/Schedules/Calendar/Calendar.js\";\nimport React from 'react';\nimport moment from 'moment';\nimport './Calendar.css';\nmoment().format();\n\nclass Calendar extends React.Component {\n  constructor(_props) {\n    super(_props);\n    this.weekdays = moment.weekdays();\n    this.weekdaysShort = moment.weekdaysShort();\n    this.months = moment.months();\n\n    this.year = () => {\n      return this.props.dateContext.format('Y');\n    };\n\n    this.month = () => {\n      return this.props.dateContext.format('MMMM');\n    };\n\n    this.daysInMonth = () => {\n      return this.props.dateContext.daysInMonth();\n    };\n\n    this.currentDate = () => {\n      return this.props.dateContext.get('date');\n    };\n\n    this.currentDay = () => {\n      return this.props.dateContext.format('D');\n    };\n\n    this.firstDayofMonth = () => {\n      let dateContext = this.props.dateContext;\n      let firstDay = moment(dateContext).startOf('month').format('d'); //Day of week 0-6\n\n      return firstDay;\n    };\n\n    this.setMonth = month => {\n      let monthNo = this.months.indexOf(month);\n      let dateContext = Object.assign({}, this.state.dateContext);\n      dateContext = moment(dateContext).set(\"month\", monthNo);\n      this.setState({\n        dateContext: dateContext\n      });\n    };\n\n    this.nextMonth = () => {\n      let dateContext = Object.assign({}, this.state.dateContext);\n      dateContext = moment(dateContext).add(1, \"month\");\n      this.setState({\n        dateContext: dateContext\n      });\n      this.props.onNextMonth && this.props.onNextMonth();\n    };\n\n    this.prevMonth = () => {\n      let dateContext = Object.assign({}, this.state.dateContext);\n      dateContext = moment(dateContext).subtract(1, \"month\");\n      this.setState({\n        dateContext: dateContext\n      });\n      this.props.onPrevMonth && this.props.onPrevMonth();\n    };\n\n    this.SelectList = props => {\n      let popup = props.data.map(data => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: data,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: \"#a\",\n          onClick: e => {\n            this.onSelectChange(e, data);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 6\n          }\n        }, data));\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"month-popup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 4\n        }\n      }, popup);\n    };\n\n    this.onChangeMonth = (event, month) => {\n      this.setState({\n        showMonthPopup: !this.state.showMonthPopup\n      });\n    };\n\n    this.MonthNav = () => {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        onClick: e => {\n          this.onChangeMonth(e, this.month());\n        },\n        className: \"label-month\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 4\n        }\n      }, this.month(), this.state.showMonthPopup && /*#__PURE__*/React.createElement(this.SelectList, {\n        data: this.months,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 6\n        }\n      }));\n    };\n\n    this.showYearEditor = () => {\n      this.setState({\n        showYearNav: true\n      });\n    };\n\n    this.setYear = year => {\n      let dateContext = Object.assign({}, this.state.dateContext);\n      dateContext = moment(dateContext).set(\"year\", year);\n      this.setState({\n        dateContext: dateContext\n      });\n    };\n\n    this.onYearChange = e => {\n      this.setYear(e.target.value);\n      this.props.onYearChange && this.props.onYearChange(e, e.target.value);\n    };\n\n    this.onKeyUpYear = e => {\n      if (e.which === 13 || e.which === 27) {\n        this.setYear(e.target.value);\n        this.setState({\n          showYearNav: false\n        });\n      }\n    };\n\n    this.YearNav = () => {\n      return this.state.showYearNav ? /*#__PURE__*/React.createElement(\"input\", {\n        defaultValue: this.year(),\n        className: \"editor-year\",\n        ref: yearInput => {\n          this.yearInput = yearInput;\n        },\n        onKeyUp: e => this.onKeyUpYear(e),\n        onChange: e => this.onYearChange(e),\n        type: \"number\",\n        placeholder: \"year\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 4\n        }\n      }) : /*#__PURE__*/React.createElement(\"span\", {\n        onDoubleClick: e => {\n          this.showYearEditor();\n        },\n        className: \"label-year\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 4\n        }\n      }, this.year());\n    };\n\n    this.onDayClick = (e, day) => {\n      this.props.onDayClick && this.props.onDayClick(e, day);\n    };\n\n    this.state = {\n      width: _props.width || \"350px\",\n      style: _props.style || {},\n      showMonthPopup: false,\n      showYearPopup: false\n    };\n    this.state.style.width = this.state.width;\n  }\n\n  render() {\n    //Map the weekdays as <td>\n    let weekdays = this.weekdaysShort.map(day => {\n      return /*#__PURE__*/React.createElement(\"td\", {\n        key: day,\n        className: \"week-day\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 5\n        }\n      }, day);\n    });\n    let blanks = [];\n\n    for (let i = 0; i < this.firstDayofMonth(); i++) {\n      blanks.push( /*#__PURE__*/React.createElement(\"td\", {\n        key: i * 80,\n        className: \"emptySlot\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 16\n        }\n      }, \" \"));\n    }\n\n    console.log(\"blanks: \", blanks);\n    let daysInMonth = [];\n\n    for (let d = 1; d <= this.daysInMonth(); d++) {\n      let className = d === this.currentDay() ? \"day current-day\" : \"day\";\n      daysInMonth.push( /*#__PURE__*/React.createElement(\"td\", {\n        key: d,\n        onClick: e => {\n          this.onDayClick(e, d);\n        },\n        className: className,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 6\n        }\n      }, d)));\n    }\n\n    let len = blanks.length + daysInMonth.length;\n    let extraBlanks = [];\n\n    while (len % 7 !== 0) {\n      len++;\n      extraBlanks.push( /*#__PURE__*/React.createElement(\"td\", {\n        key: len,\n        className: \"emptySlot\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }\n      }, \" \"));\n    }\n\n    console.log(\"days: \", daysInMonth);\n    var totalSlots = [...blanks, ...daysInMonth, ...extraBlanks];\n    let rows = [];\n    let cells = [];\n    totalSlots.forEach((row, i) => {\n      if (i % 7 !== 0) {\n        cells.push(row);\n      } else {\n        let insertRow = cells.slice();\n        rows.push(insertRow);\n        cells = [];\n        cells.push(row);\n      }\n\n      if (i === totalSlots.length - 1) {\n        let insertRow = cells.slice();\n        rows.push(insertRow);\n      }\n    });\n    let trElements = rows.map((d, i) => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: i * 100,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 5\n        }\n      }, d);\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calendar-container\",\n      style: this.state.style,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"calendar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"calendar-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(this.MonthNav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }\n    }), ' ', /*#__PURE__*/React.createElement(this.YearNav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"2\",\n      className: \"nav-month\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"prev fa fa-fw fa-chevron-left\",\n      onClick: e => {\n        this.prevMonth();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"prev fa fa-fw fa-chevron-right\",\n      onClick: e => {\n        this.nextMonth();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }\n    })))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 7\n      }\n    }, weekdays), trElements)));\n  }\n\n}\n\nexport default Calendar;","map":{"version":3,"sources":["/Users/noah.menikefs/Desktop/menisked/MeniSked/src/Components/Schedules/Calendar/Calendar.js"],"names":["React","moment","format","Calendar","Component","constructor","props","weekdays","weekdaysShort","months","year","dateContext","month","daysInMonth","currentDate","get","currentDay","firstDayofMonth","firstDay","startOf","setMonth","monthNo","indexOf","Object","assign","state","set","setState","nextMonth","add","onNextMonth","prevMonth","subtract","onPrevMonth","SelectList","popup","data","map","e","onSelectChange","onChangeMonth","event","showMonthPopup","MonthNav","showYearEditor","showYearNav","setYear","onYearChange","target","value","onKeyUpYear","which","YearNav","yearInput","onDayClick","day","width","style","showYearPopup","render","blanks","i","push","console","log","d","className","len","length","extraBlanks","totalSlots","rows","cells","forEach","row","insertRow","slice","trElements"],"mappings":"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","sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport './Calendar.css';\n\n\nmoment().format();\n\n\nclass Calendar extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\twidth: props.width || \"350px\",\n\t\t\tstyle: props.style || {},\n\t\t\tshowMonthPopup: false,\n\t\t\tshowYearPopup: false\n\n\t\t}\n\t\tthis.state.style.width = this.state.width;\n\t}\n\n\n\tweekdays = moment.weekdays(); //List of weekdays\n\tweekdaysShort = moment.weekdaysShort(); //List of shortened days\n\tmonths = moment.months(); // List of each month\n\n\tyear = () => {\n\t\treturn this.props.dateContext.format('Y');\n\t}\n\tmonth = () => {\n\t\treturn this.props.dateContext.format('MMMM');\n\t}\n\tdaysInMonth = () => {\n\t\treturn this.props.dateContext.daysInMonth();\n\t}\n\tcurrentDate = () => {\n\t\treturn this.props.dateContext.get('date');\n\t}\n\tcurrentDay = () => {\n\t\treturn this.props.dateContext.format('D');\n\t}\n\n\tfirstDayofMonth = () => {\n\t\tlet dateContext = this.props.dateContext;\n\t\tlet firstDay = moment(dateContext).startOf('month').format('d'); //Day of week 0-6\n\t\treturn firstDay;\n\t}\n\n\tsetMonth = (month) => {\n\t\tlet monthNo = this.months.indexOf(month);\n\t\tlet dateContext = Object.assign({}, this.state.dateContext)\n\t\tdateContext = moment(dateContext).set(\"month\", monthNo);\n\t\tthis.setState({\n\t\t\tdateContext: dateContext\n\t\t});\n\t}\n\n\tnextMonth = () => {\n\t\tlet dateContext = Object.assign({}, this.state.dateContext);\n\t\tdateContext = moment(dateContext).add(1, \"month\");\n\t\tthis.setState({\n\t\t\tdateContext: dateContext\n\t\t});\n\t\tthis.props.onNextMonth && this.props.onNextMonth();\n\t}\n\n\tprevMonth = () => {\n\t\tlet dateContext = Object.assign({}, this.state.dateContext);\n\t\tdateContext = moment(dateContext).subtract(1, \"month\");\n\t\tthis.setState({\n\t\t\tdateContext: dateContext\n\t\t});\n\t\tthis.props.onPrevMonth && this.props.onPrevMonth();\n\t}\n\n\tSelectList = (props) => {\n\t\tlet popup = props.data.map((data) => {\n\t\t\treturn (\n\t\t\t\t<div key={data}>\n\t\t\t\t\t<a href=\"#a\" onClick={(e) => {this.onSelectChange(e,data)}}>\n\t\t\t\t\t\t{data}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"month-popup\">\n\t\t\t\t{popup}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tonChangeMonth = (event, month) => {\n\t\tthis.setState({showMonthPopup: !this.state.showMonthPopup});\n\t}\n\n\tMonthNav = () => {\n\t\treturn (\n\t\t\t<span onClick={(e) => {this.onChangeMonth(e, this.month())}}className=\"label-month\">\n\t\t\t\t{this.month()}\n\t\t\t\t{this.state.showMonthPopup &&\n\t\t\t\t\t<this.SelectList data={this.months} />\n\t\t\t\t}\n\t\t\t</span>\n\t\t)\n\t}\n\n\tshowYearEditor = () => {\n\t\tthis.setState({\n\t\t\tshowYearNav: true\n\t\t})\n\t}\n\n\tsetYear = (year) => {\n\t\tlet dateContext = Object.assign({}, this.state.dateContext);\n\t\tdateContext = moment(dateContext).set(\"year\",year);\n\t\tthis.setState({\n\t\t\tdateContext: dateContext\n\t\t})\n\t}\n\n\tonYearChange = (e) => {\n\t\tthis.setYear(e.target.value);\n\t\tthis.props.onYearChange && this.props.onYearChange(e,e.target.value);\n\n\t}\n\n\tonKeyUpYear = (e) => {\n\t\tif (e.which === 13 || e.which === 27){\n\t\t\tthis.setYear(e.target.value);\n\t\t\tthis.setState({\n\t\t\t\tshowYearNav: false\n\t\t\t})\n\t\t}\n\t}\n\n\tYearNav = () => {\n\t\treturn (\n\t\t\tthis.state.showYearNav ?\n\t\t\t<input defaultValue= {this.year()} \n\t\t\tclassName=\"editor-year\" \n\t\t\tref={(yearInput) => {this.yearInput = yearInput}} \n\t\t\tonKeyUp={(e) => this.onKeyUpYear(e)}\n\t\t\tonChange = {(e) => this.onYearChange(e)}\n\t\t\ttype=\"number\"\n\t\t\tplaceholder=\"year\"\n\t\t\t />\n\t\t\t:\n\t\t\t<span onDoubleClick={(e) => {this.showYearEditor()}} className=\"label-year\">\n\t\t\t\t{this.year()}\n\t\t\t</span>\n\n\t\t);\n\t}\n\n\tonDayClick = (e,day) => {\n\t\tthis.props.onDayClick && this.props.onDayClick(e,day);\n\t}\n\n\trender(){\n\n\t\t//Map the weekdays as <td>\n\t\tlet weekdays = this.weekdaysShort.map((day) => {\n\t\t\treturn (\n\t\t\t\t<td key={day} className=\"week-day\">{day}</td>\n\t\t\t)\n\t\t});\n\t\tlet blanks = [];\n\t\tfor (let i = 0; i < this.firstDayofMonth(); i++){\n\t\t\tblanks.push(<td key={i*80} className=\"emptySlot\">{\" \"}</td>);\t\n\t\t}\n\n\t\tconsole.log(\"blanks: \", blanks);\n\n\t\tlet daysInMonth = [];\n\t\tfor (let d = 1; d <= this.daysInMonth(); d++){\n\t\t\tlet className = (d === this.currentDay() ? \"day current-day\" : \"day\");\n\t\t\tdaysInMonth.push(\n\t\t\t\t<td key={d} onClick={(e) => {this.onDayClick(e,d)}} className={className}>\n\t\t\t\t\t<span className=\"text\" >{d}</span>\n\t\t\t\t</td>\n\t\t\t);\n\t\t}\n\n\t\tlet len = blanks.length + daysInMonth.length;\n\n\t\tlet extraBlanks = [];\n\n\t\twhile ((len % 7)!== 0){\n\t\t\tlen++;\n\t\t\textraBlanks.push(<td key={len} className=\"emptySlot\">{\" \"}</td>)\n\t\t}\n\n\t\tconsole.log(\"days: \", daysInMonth);\n\n\t\tvar totalSlots = [...blanks, ...daysInMonth, ...extraBlanks];\n\t\tlet rows = [];\n\t\tlet cells = [];\n\n\t\ttotalSlots.forEach((row, i) => {\n\t\t\tif ((i % 7) !== 0 ) {\n\t\t\t\tcells.push(row);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tlet insertRow = cells.slice();\n\t\t\t\trows.push(insertRow);\n\t\t\t\tcells = [];\n\t\t\t\tcells.push(row);\n\t\t\t}\n\t\t\tif (i === totalSlots.length -1 ){\n\t\t\t\tlet insertRow = cells.slice();\n\t\t\t\trows.push(insertRow);\n\t\t\t}\n\t\t});\n\n\t\tlet trElements = rows.map((d, i) => {\n\t\t\treturn (\n\t\t\t\t<tr key={i*100}>\n\t\t\t\t\t{d}\n\t\t\t\t</tr>\n\t\t\t);\n\t\t})\n\n\n\n\t\treturn(\n\t\t\t<div className=\"calendar-container\" style={this.state.style}>\n\t\t\t\t<table className=\"calendar\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr className=\"calendar-header\">\n\t\t\t\t\t\t\t<td colSpan=\"5\">\n\t\t\t\t\t\t\t\t<this.MonthNav/>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t<this.YearNav/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td colSpan=\"2\" className=\"nav-month\">\n\t\t\t\t\t\t\t\t<i className=\"prev fa fa-fw fa-chevron-left\"\n\t\t\t\t\t\t\t\t\tonClick={(e) => {this.prevMonth()}}>\n\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t\t<i className=\"prev fa fa-fw fa-chevron-right\"\n\t\t\t\t\t\t\t\t\tonClick={(e) => {this.nextMonth()}}>\n\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t{weekdays}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{trElements}\n\t\t\t\t\t</tbody>\n\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t);\n\n\n\n\t}\n\n\n}\n\nexport default Calendar;"]},"metadata":{},"sourceType":"module"}