{"ast":null,"code":"var _jsxFileName = \"/Users/noah.menikefs/Desktop/menisked/MeniSked/src/Components/Settings/People.js\";\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Scroll from './../Scroll/Scroll';\nimport Form from 'react-bootstrap/Form';\nimport Modal from 'react-bootstrap/Modal';\nimport './Settings.css';\n\nclass People extends React.Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      this.loadAllUsers();\n    };\n\n    this.loadAllUsers = () => {\n      fetch('http://localhost:3000/people').then(response => response.json()).then(users => this.setState({\n        peopleList: users\n      }));\n    };\n\n    this.addPerson = () => {\n      const {\n        fName,\n        lName,\n        email\n      } = this.state;\n      const {\n        department\n      } = this.props;\n\n      if (fName.length > 0 && lName.length > 0 && email.length > 0) {\n        fetch('http://localhost:3000/people', {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            firstname: fName,\n            lastname: lName,\n            email: email,\n            department: department.replace(\" Admin\", '')\n          })\n        }).then(response => response.json()).then(person => {\n          if (person.lastname) {\n            this.loadAllUsers();\n          } else if (person === 'a user with this email already exists.') {\n            this.toggleEShow();\n          }\n        });\n        this.setState({\n          fName: '',\n          lName: '',\n          email: ''\n        });\n      }\n    };\n\n    this.activeChange = e => {\n      fetch('http://localhost:3000/people', {\n        method: 'put',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: parseInt(e.target.parentNode.id, 10),\n          isactive: e.target.checked\n        })\n      }).then(response => response.json()).then(person => {\n        if (person) {\n          this.loadAllUsers();\n        }\n      });\n    };\n\n    this.deletePerson = () => {\n      const {\n        peopleList\n      } = this.state;\n      const id = parseInt(this.state.id, 10);\n      let email = '';\n\n      for (let i = 0; i < peopleList.length; i++) {\n        if (id === peopleList[i].id) {\n          peopleList[i].email;\n          break;\n        }\n      }\n\n      fetch('http://localhost:3000/people', {\n        method: 'delete',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: email\n        })\n      }).then(response => response.json()).then(people => {\n        if (people) {\n          this.loadAllUsers();\n        }\n      });\n      this.toggleDShow();\n    };\n\n    this.onFNameChange = e => {\n      this.setState({\n        fName: e.target.value\n      });\n    };\n\n    this.onLNameChange = e => {\n      this.setState({\n        lName: e.target.value\n      });\n    };\n\n    this.onEmailChange = e => {\n      this.setState({\n        email: e.target.value\n      });\n    };\n\n    this.toggleDShow = e => {\n      if (e) {\n        this.setState({\n          id: parseInt(e.target.parentNode.id, 10)\n        });\n      } else {\n        this.setState({\n          id: -1\n        });\n      }\n\n      this.setState({\n        dShow: !this.state.dShow\n      });\n    };\n\n    this.toggleEShow = e => {\n      this.setState({\n        eShow: !this.state.eShow\n      });\n    };\n\n    this.state = {\n      peopleList: [],\n      fName: '',\n      lName: '',\n      email: '',\n      dShow: false,\n      id: -1,\n      eshow: false\n    };\n  }\n\n  render() {\n    const {\n      peopleList,\n      fName,\n      lName,\n      email,\n      dShow,\n      eShow\n    } = this.state;\n    let docList = [];\n\n    for (let j = 0; j < peopleList.length; j++) {\n      docList.push( /*#__PURE__*/React.createElement(\"li\", {\n        key: peopleList[j].id,\n        id: peopleList[j].id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 5\n        }\n      }, peopleList[j].lastname, \", \", peopleList[j].firstname, /*#__PURE__*/React.createElement(\"input\", {\n        onChange: this.activeChange,\n        checked: peopleList[j].isactive,\n        key: j,\n        className: \"inp\",\n        type: \"checkbox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 6\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        key: -j - 1,\n        onClick: this.toggleDShow,\n        className: \"delete butn\",\n        size: \"sm\",\n        variant: \"danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 6\n        }\n      }, \"Delete\")));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }\n    }, \"Staff List\")), /*#__PURE__*/React.createElement(Scroll, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"setList\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 7\n      }\n    }, docList))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 7\n      }\n    }, \"Add User\")), /*#__PURE__*/React.createElement(Form, {\n      id: \"callForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"box\",\n      style: {\n        border: '2px solid black',\n        height: '180px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      id: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      required: true,\n      value: fName,\n      type: \"text\",\n      onChange: this.onFNameChange,\n      autoComplete: \"off\",\n      placeholder: \"First Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      id: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      required: true,\n      value: lName,\n      type: \"text\",\n      onChange: this.onLNameChange,\n      autoComplete: \"off\",\n      placeholder: \"Last Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      id: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      required: true,\n      value: email,\n      type: \"email\",\n      onChange: this.onEmailChange,\n      autoComplete: \"off\",\n      placeholder: \"Email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 12\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      id: \"callSub\",\n      variant: \"primary\",\n      onClick: this.addPerson,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 8\n      }\n    }, \"Submit\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      show: dShow,\n      onHide: this.toggleDShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      id: \"modalTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 16\n      }\n    }, \"Confirm Deletion\")), /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    }, \"Are you sure you want to delete this user?\"))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.toggleDShow,\n      variant: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 16\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.deletePerson,\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    }, \"Submit\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      show: eShow,\n      onHide: this.toggleEShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      id: \"modalTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 16\n      }\n    }, \"Error\")), /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 15\n      }\n    }, \"A user with this email address already exists.\"))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.toggleEShow,\n      variant: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 16\n      }\n    }, \"Cancel\"))))));\n  }\n\n}\n\nexport default People;","map":{"version":3,"sources":["/Users/noah.menikefs/Desktop/menisked/MeniSked/src/Components/Settings/People.js"],"names":["React","Button","Scroll","Form","Modal","People","Component","constructor","componentDidMount","loadAllUsers","fetch","then","response","json","users","setState","peopleList","addPerson","fName","lName","email","state","department","props","length","method","headers","body","JSON","stringify","firstname","lastname","replace","person","toggleEShow","activeChange","e","id","parseInt","target","parentNode","isactive","checked","deletePerson","i","people","toggleDShow","onFNameChange","value","onLNameChange","onEmailChange","dShow","eShow","eshow","render","docList","j","push","border","height"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Scroll from './../Scroll/Scroll'\nimport Form from 'react-bootstrap/Form'\nimport Modal from 'react-bootstrap/Modal'\nimport './Settings.css';\n\nclass People extends React.Component{\n\tconstructor(){\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tpeopleList: [\n\n\n\t\t\t],\n\t\t\tfName: '',\n\t\t\tlName: '',\n\t\t\temail: '',\n\t\t\tdShow: false,\n\t\t\tid: -1,\n\t\t\teshow: false\n\t\t}\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.loadAllUsers();\n\t}\n\n\tloadAllUsers = () => {\n\t\tfetch('http://localhost:3000/people')\n\t\t\t.then(response => response.json())\n\t\t\t.then(users => this.setState({peopleList: users}));\n\t}\n\n\taddPerson = () => {\n\t\tconst {fName, lName, email} = this.state;\n\t\tconst {department} = this.props;\n\t\tif (fName.length > 0 && lName.length > 0 && email.length > 0){\t\n\t\t\tfetch('http://localhost:3000/people', {\n\t\t\t\tmethod: 'post',\n\t\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tfirstname: fName,\n\t\t\t\t\tlastname: lName,\n\t\t\t\t\temail: email,\n\t\t\t\t\tdepartment: department.replace(\" Admin\",'')\n\t\t\t\t})\n\t\t\t})\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(person => {\n\t\t\t\t\tif (person.lastname){\n\t\t\t\t\t\tthis.loadAllUsers();\n\t\t\t\t\t}\n\t\t\t\t\telse if (person === 'a user with this email already exists.'){\n\t\t\t\t\t\tthis.toggleEShow();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\tthis.setState({\n\t\t\t\tfName: '',\n\t\t\t\tlName: '',\n\t\t\t\temail: ''\n\t\t\t})\n\t\t}\n\t}\n\n\tactiveChange = (e) => {\n\t\tfetch('http://localhost:3000/people', {\n\t\t\tmethod: 'put',\n\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tid: parseInt(e.target.parentNode.id,10),\n\t\t\t\tisactive: e.target.checked\n\t\t\t})\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(person => {\n\t\t\t\tif (person){\n\t\t\t\t\tthis.loadAllUsers();\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\tdeletePerson = () => {\n\t\tconst {peopleList} = this.state;\n\t\tconst id = parseInt(this.state.id,10);\n\t\tlet email = '';\n\t\tfor (let i = 0; i < peopleList.length; i++){\n\t\t\tif (id === peopleList[i].id){\npeopleList[i].email;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfetch('http://localhost:3000/people', {\n\t\t\tmethod: 'delete',\n\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail: email \n\t\t\t})\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(people => {\n\t\t\t\tif (people){\n\t\t\t\t\tthis.loadAllUsers();\n\t\t\t\t}\n\t\t\t})\n\n\t\tthis.toggleDShow();\n\t}\n\n\tonFNameChange = (e) => {\n\t\tthis.setState({fName: e.target.value})\n\t}\n\n\tonLNameChange = (e) => {\n\t\tthis.setState({lName: e.target.value})\n\t}\n\n\tonEmailChange = (e) => {\n\t\tthis.setState({email: e.target.value})\n\t}\n\n\ttoggleDShow = (e) => {\n\t\tif (e){\n\t\t\tthis.setState({id: parseInt(e.target.parentNode.id,10)})\n\t\t}\n\t\telse{\n\t\t\tthis.setState({id: -1})\n\t\t}\n\t\tthis.setState({dShow: !this.state.dShow})\n\t}\n\n\ttoggleEShow = (e) => {\n\t\tthis.setState({eShow:!this.state.eShow});\n\t}\n\n\trender(){\n\t\tconst {peopleList, fName, lName, email, dShow, eShow} = this.state;\n\n\t\tlet docList = [];\n\t\tfor (let j = 0; j < peopleList.length; j++){\n\t\t\tdocList.push(\n\t\t\t\t<li key={peopleList[j].id} id={peopleList[j].id}>\n\t\t\t\t\t{peopleList[j].lastname}, {peopleList[j].firstname}\n\t\t\t\t\t<input onChange={this.activeChange} checked={peopleList[j].isactive} key={j} className='inp' type=\"checkbox\" />\n\t\t\t\t\t<Button key={-j-1} onClick={this.toggleDShow} className=\"delete butn\" size=\"sm\" variant=\"danger\">Delete</Button>\n\t\t\t\t</li>\n\t\t\t)\n\t\t}\n\n\t\t\treturn(\n\t\t\t<div className=\"body\">\n\t\t\t\t<div className=\"left\">\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"top\">\n\t\t\t\t\t\t<h4 className=\"subtitle\">Staff List</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Scroll>\n\t\t\t\t\t\t<ul className=\"setList\">\n\t\t\t\t\t\t\t{docList}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</Scroll>\n\n\t\t\t\t</div>\n\t\t\t\t<div className=\"p right\">\n\t\t\t\t\t<div className=\"top\">\n\t\t\t\t\t\t<h4 className=\"subtitle\">Add User</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Form id=\"callForm\" >\n\t\t\t\t\t\t<div id=\"box\" style={{border:'2px solid black', height: '180px'}}>\n\t\t\t\t\t\t\t<Form.Group id=\"name\">\n\t\t\t\t\t\t\t\t<Form.Control required value={fName} type=\"text\" onChange={this.onFNameChange} autoComplete=\"off\" placeholder=\"First Name\" />\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group id=\"name\">\n\t\t\t\t\t\t\t\t<Form.Control required value={lName} type=\"text\" onChange={this.onLNameChange} autoComplete=\"off\" placeholder=\"Last Name\" />\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group id=\"email\">\n    \t\t\t\t\t\t\t<Form.Control required value={email} type=\"email\" onChange={this.onEmailChange} autoComplete=\"off\" placeholder=\"Email\" />\n  \t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bottom\">\n\t\t\t\t\t\t\t<Button id='callSub' variant=\"primary\" onClick={this.addPerson}>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Form>\n\n\n\t\t\t\t</div>\n\t\t\t\t<div className='modal'>\n\t\t\t\t\t<Modal show={dShow} onHide={this.toggleDShow} >\n        \t\t\t\t<Modal.Header closeButton>\n          \t\t\t\t\t<Modal.Title id='modalTitle'>Confirm Deletion</Modal.Title>\n       \t \t\t\t\t</Modal.Header>\n        \t\t\t\t<Form>\n        \t\t\t\t\t<Modal.Body>\n        \t\t\t\t\t<Form.Group >\n      \t\t\t\t\t\t\t <Form.Label>Are you sure you want to delete this user?</Form.Label>\n  \t\t\t\t\t\t\t</Form.Group>\n        \t\t\t\t</Modal.Body>\n        \t\t\t\t<Modal.Footer>\n          \t\t\t\t\t<Button onClick={this.toggleDShow} variant=\"secondary\" >\n            \t\t\t\t\tCancel\n          \t\t\t\t\t</Button>\n          \t\t\t\t\t <Button onClick={this.deletePerson} variant=\"primary\" >\n            \t\t\t\t\tSubmit\n          \t\t\t\t\t</Button>\n\t        \t\t\t</Modal.Footer>\n\t        \t\t\t</Form>\n      \t\t\t\t</Modal>\n\t\t\t\t</div>\n\t\t\t\t<div className='modal'>\n\t\t\t\t\t<Modal show={eShow} onHide={this.toggleEShow} >\n        \t\t\t\t<Modal.Header closeButton>\n          \t\t\t\t\t<Modal.Title id='modalTitle'>Error</Modal.Title>\n       \t \t\t\t\t</Modal.Header>\n        \t\t\t\t<Form>\n        \t\t\t\t\t<Modal.Body>\n        \t\t\t\t\t<Form.Group >\n      \t\t\t\t\t\t\t <Form.Label>A user with this email address already exists.</Form.Label>\n  \t\t\t\t\t\t\t</Form.Group>\n        \t\t\t\t</Modal.Body>\n        \t\t\t\t<Modal.Footer>\n          \t\t\t\t\t<Button onClick={this.toggleEShow} variant=\"secondary\" >\n            \t\t\t\t\tCancel\n          \t\t\t\t\t</Button>\n\t        \t\t\t</Modal.Footer>\n\t        \t\t\t</Form>\n      \t\t\t\t</Modal>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t);\n\n\n\n\t}\n\n\n}\n\nexport default People;"]},"metadata":{},"sourceType":"module"}