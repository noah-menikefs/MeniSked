{"ast":null,"code":"var _jsxFileName = \"/Users/noah.menikefs/Desktop/menisked/MeniSked/src/Components/Messages/AMessages.js\";\nimport React from 'react';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\nimport moment from 'moment';\nimport './Messages.css';\n\nclass AMessages extends React.Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      this.loadMessages();\n      this.loadUsers();\n      this.loadEntries();\n      this.loadCallTypes();\n    };\n\n    this.months = moment.months();\n\n    this.loadMessages = () => {\n      fetch('http://localhost:3000/amessages').then(response => response.json()).then(messages => this.setState({\n        messages: messages\n      }));\n    };\n\n    this.loadUsers = () => {\n      fetch('http://localhost:3000/people').then(response => response.json()).then(users => this.setState({\n        peopleList: users\n      }));\n    };\n\n    this.loadEntries = () => {\n      fetch('http://localhost:3000/sked/entries').then(response => response.json()).then(entries => this.setState({\n        entryList: entries\n      }));\n    };\n\n    this.loadCallTypes = () => {\n      fetch('http://localhost:3000/callTypes').then(response => response.json()).then(calls => this.setState({\n        callList: calls\n      }));\n    };\n\n    this.toggleShow = () => {\n      this.setState({\n        show: !this.state.show,\n        msg: ''\n      });\n    };\n\n    this.toggleDShow = route => {\n      this.setState({\n        dshow: !this.state.dshow,\n        msg: route\n      });\n    };\n\n    this.onMsgChange = event => {\n      console.log(event.target.value);\n      this.setState({\n        msg: event.target.value\n      });\n    };\n\n    this.docIdToName = id => {\n      id = parseInt(id, 10);\n\n      for (let i = 0; i < this.state.peopleList.length; i++) {\n        if (id === this.state.peopleList[i].id) {\n          return this.state.peopleList[i].firstname + ' ' + this.state.peopleList[i].lastname;\n        }\n      }\n    };\n\n    this.entryIdToName = id => {\n      id = parseInt(id, 10);\n      const arr = [...this.state.entryList, ...this.state.callList];\n\n      for (let i = 0; i < arr.length; i++) {\n        if (id === arr[i].id) {\n          return arr[i].name;\n        }\n      }\n    };\n\n    this.dateStyler = dates => {\n      let splitArr = [];\n      let flag = false;\n\n      if (dates.length === 1) {\n        splitArr = dates[0].split('/');\n        return 'on ' + this.months[splitArr[0] - 1] + ' ' + splitArr[1] + ', ' + splitArr[2];\n      }\n\n      for (let i = 0; i < dates.length; i++) {\n        splitArr.push(dates[i].split('/'));\n      }\n\n      for (let n = 1; n < splitArr.length; n++) {\n        if (splitArr[n][0] !== splitArr[n - 1][0] || splitArr[n][1] - 1 !== parseInt(splitArr[n - 1][1], 10) || splitArr[n][2] !== splitArr[n - 1][2]) {\n          flag = true;\n          break;\n        }\n      }\n\n      if (flag) {\n        let str = \"on \" + this.months[splitArr[0][0] - 1] + ' ' + splitArr[0][1] + ', ' + splitArr[0][2];\n\n        for (let j = 1; j < splitArr.length; j++) {\n          str = str + ', ' + this.months[splitArr[j][0] - 1] + ' ' + splitArr[j][1] + ', ' + splitArr[j][2];\n        }\n\n        return str;\n      }\n\n      return 'from ' + this.months[splitArr[0][0] - 1] + ' ' + splitArr[0][1] + ', ' + splitArr[0][2] + ' - ' + this.months[splitArr[splitArr.length - 1][0] - 1] + ' ' + splitArr[splitArr.length - 1][1] + ', ' + splitArr[splitArr.length - 1][2];\n    };\n\n    this.state = {\n      show: false,\n      msg: '',\n      dshow: false,\n      messages: [],\n      peopleList: [],\n      entryList: [],\n      callList: []\n    };\n  }\n\n  render() {\n    const {\n      show,\n      dshow,\n      msg,\n      messages\n    } = this.state;\n    let pendingList = [];\n    let pastList = [];\n    let pends = [];\n    let past = [];\n\n    for (let i = 0; i < messages.length; i++) {\n      if (messages[i].status === 'pending') {\n        pends.push(messages[i]);\n      } else {\n        past.push(messages[i]);\n      }\n    }\n\n    for (let n = 0; n < pends.length; n++) {\n      pendingList.push( /*#__PURE__*/React.createElement(ListGroup, {\n        horizontal: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n        className: \"pend list\",\n        action: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"requestList\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 51\n        }\n      }, this.docIdToName(pends[n].docid), \" has requested \", this.entryIdToName(pends[n].entryid), \" \", this.dateStyler(pends[n].dates)), /*#__PURE__*/React.createElement(Button, {\n        className: \"accept\",\n        size: \"sm\",\n        variant: \"success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 9\n        }\n      }, \"Accept\"), /*#__PURE__*/React.createElement(Button, {\n        className: \"deny\",\n        size: \"sm\",\n        variant: \"danger\",\n        onClick: this.toggleShow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 9\n        }\n      }, \"Deny\")), /*#__PURE__*/React.createElement(ListGroup.Item, {\n        className: \"dates list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 6\n        }\n      }, pends[n].stamp)));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"requests\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 5\n      }\n    }, \"Pending\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"listStyleA\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 5\n      }\n    }, pendingList), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"requests\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 5\n      }\n    }, \"Past Requests\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"listStyleE\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup, {\n      horizontal: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"pend list\",\n      action: true,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 7\n      }\n    }, \"You \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"accepted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 65\n      }\n    }, \"accepted\"), \" John Smith's request for 1st call on July 17, 2020\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"edates list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 7\n      }\n    }, \"06/24/2020\")), /*#__PURE__*/React.createElement(ListGroup, {\n      horizontal: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"pend list\",\n      action: true,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 7\n      }\n    }, \"You \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"accepted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 12\n      }\n    }, \"accepted\"), \" Sally Jenkins request for vacation from July 2, 2020 - July 6, 2020\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"edates list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 7\n      }\n    }, \"06/17/2020\")), /*#__PURE__*/React.createElement(ListGroup, {\n      horizontal: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"pend list\",\n      action: true,\n      onClick: () => this.toggleDShow(\"Sorry, I can't let you work that day.\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 7\n      }\n    }, \"You \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"denied\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 12\n      }\n    }, \"denied\"), \" Noah Menikefs's request for 2nd call on August 3, 2020\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"edates list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 7\n      }\n    }, \"05/29/2020\")), /*#__PURE__*/React.createElement(ListGroup, {\n      horizontal: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"pend list\",\n      action: true,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 7\n      }\n    }, \"You \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"accepted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 12\n      }\n    }, \"accepted\"), \" Donald Trump's request for 1st call on June 30, 2020\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"edates list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 7\n      }\n    }, \"04/22/2020\")), /*#__PURE__*/React.createElement(ListGroup, {\n      horizontal: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"pend list\",\n      action: true,\n      onClick: () => this.toggleDShow(\"Sorry, I can't let you go on vacation then.\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 7\n      }\n    }, \"You \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"denied\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 12\n      }\n    }, \"denied\"), \" Justin Trudeau's request for vacation from September 3, 2020 - September 10, 2020\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"edates list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 7\n      }\n    }, \"01/08/2020\")), /*#__PURE__*/React.createElement(ListGroup, {\n      horizontal: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"pend list\",\n      action: true,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 7\n      }\n    }, \"You \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"accepted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 65\n      }\n    }, \"accepted\"), \" Bob Joe's request for 1st call on July 17, 2020\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"edates list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 7\n      }\n    }, \"06/24/2020\")), /*#__PURE__*/React.createElement(ListGroup, {\n      horizontal: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"pend list\",\n      action: true,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 7\n      }\n    }, \"You \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"accepted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 12\n      }\n    }, \"accepted\"), \" James Johnson's request for vacation from July 2, 2020 - July 6, 2020\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"edates list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 7\n      }\n    }, \"06/17/2020\")), /*#__PURE__*/React.createElement(ListGroup, {\n      horizontal: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"pend list\",\n      action: true,\n      onClick: () => this.toggleDShow(\"Sorry, I can't let you work that day.\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 7\n      }\n    }, \"You \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"denied\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 12\n      }\n    }, \"denied\"), \" Random Person's request for 2nd call on August 3, 2020\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"edates list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 7\n      }\n    }, \"05/29/2020\")), /*#__PURE__*/React.createElement(ListGroup, {\n      horizontal: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"pend list\",\n      action: true,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 7\n      }\n    }, \"You \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"accepted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 12\n      }\n    }, \"accepted\"), \" Nikhil Ismail's request for 1st call on June 30, 2020\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"edates list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 7\n      }\n    }, \"04/22/2020\")), /*#__PURE__*/React.createElement(ListGroup, {\n      horizontal: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"pend list\",\n      action: true,\n      onClick: () => this.toggleDShow(\"Sorry, I can't let you go on vacation then.\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 7\n      }\n    }, \"You \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"denied\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 12\n      }\n    }, \"denied\"), \" Hudson Leon's request for vacation from September 3, 2020 - September 10, 2020\"), /*#__PURE__*/React.createElement(ListGroup.Item, {\n      className: \"edates list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 7\n      }\n    }, \"01/08/2020\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      show: show,\n      onHide: this.toggleShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      id: \"modalTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 16\n      }\n    }, \"Denied Request Explanation\")), /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"exampleForm.ControlTextarea1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      onChange: this.onMsgChange,\n      as: \"textarea\",\n      rows: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.toggleShow,\n      variant: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => console.log('click'),\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 18\n      }\n    }, \"Submit\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      show: dshow,\n      onHide: () => this.toggleDShow(''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      id: \"modalTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 8\n      }\n    }, \"Denied Request Explanation\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 8\n      }\n    }, msg)), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.toggleDShow(''),\n      variant: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 8\n      }\n    }, \"Close\")))));\n  }\n\n}\n\nexport default AMessages;","map":{"version":3,"sources":["/Users/noah.menikefs/Desktop/menisked/MeniSked/src/Components/Messages/AMessages.js"],"names":["React","ListGroup","Button","Modal","Form","moment","AMessages","Component","constructor","componentDidMount","loadMessages","loadUsers","loadEntries","loadCallTypes","months","fetch","then","response","json","messages","setState","users","peopleList","entries","entryList","calls","callList","toggleShow","show","state","msg","toggleDShow","route","dshow","onMsgChange","event","console","log","target","value","docIdToName","id","parseInt","i","length","firstname","lastname","entryIdToName","arr","name","dateStyler","dates","splitArr","flag","split","push","n","str","j","render","pendingList","pastList","pends","past","status","docid","entryid","stamp"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,gBAAP;;AAGA,MAAMC,SAAN,SAAwBN,KAAK,CAACO,SAA9B,CAAuC;AACtCC,EAAAA,WAAW,GAAE;AACZ;;AADY,SAabC,iBAba,GAaO,MAAM;AACzB,WAAKC,YAAL;AACA,WAAKC,SAAL;AACA,WAAKC,WAAL;AACA,WAAKC,aAAL;AACA,KAlBY;;AAAA,SAoBbC,MApBa,GAoBJT,MAAM,CAACS,MAAP,EApBI;;AAAA,SAsBbJ,YAtBa,GAsBE,MAAM;AACpBK,MAAAA,KAAK,CAAC,iCAAD,CAAL,CACEC,IADF,CACOC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADnB,EAEEF,IAFF,CAEOG,QAAQ,IAAI,KAAKC,QAAL,CAAc;AAC/BD,QAAAA,QAAQ,EAAEA;AADqB,OAAd,CAFnB;AAKA,KA5BY;;AAAA,SA6BbR,SA7Ba,GA6BD,MAAM;AACjBI,MAAAA,KAAK,CAAC,8BAAD,CAAL,CACEC,IADF,CACOC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADnB,EAEEF,IAFF,CAEOK,KAAK,IAAI,KAAKD,QAAL,CAAc;AAACE,QAAAA,UAAU,EAAED;AAAb,OAAd,CAFhB;AAGA,KAjCY;;AAAA,SAmCbT,WAnCa,GAmCC,MAAM;AACnBG,MAAAA,KAAK,CAAC,oCAAD,CAAL,CACEC,IADF,CACOC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADnB,EAEEF,IAFF,CAEOO,OAAO,IAAI,KAAKH,QAAL,CAAc;AAACI,QAAAA,SAAS,EAAED;AAAZ,OAAd,CAFlB;AAGA,KAvCY;;AAAA,SAyCbV,aAzCa,GAyCG,MAAM;AACrBE,MAAAA,KAAK,CAAC,iCAAD,CAAL,CACEC,IADF,CACOC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADnB,EAEEF,IAFF,CAEOS,KAAK,IAAI,KAAKL,QAAL,CAAc;AAACM,QAAAA,QAAQ,EAAED;AAAX,OAAd,CAFhB;AAGA,KA7CY;;AAAA,SAgDbE,UAhDa,GAgDA,MAAM;AAClB,WAAKP,QAAL,CAAc;AACbQ,QAAAA,IAAI,EAAE,CAAC,KAAKC,KAAL,CAAWD,IADL;AAEbE,QAAAA,GAAG,EAAE;AAFQ,OAAd;AAIA,KArDY;;AAAA,SAuDbC,WAvDa,GAuDEC,KAAD,IAAW;AACrB,WAAKZ,QAAL,CAAc;AAChBa,QAAAA,KAAK,EAAE,CAAC,KAAKJ,KAAL,CAAWI,KADH;AAEbH,QAAAA,GAAG,EAAEE;AAFQ,OAAd;AAIF,KA5DW;;AAAA,SA8DbE,WA9Da,GA8DEC,KAAD,IAAW;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAN,CAAaC,KAAzB;AACA,WAAKnB,QAAL,CAAc;AAACU,QAAAA,GAAG,EAAEK,KAAK,CAACG,MAAN,CAAaC;AAAnB,OAAd;AACA,KAjEY;;AAAA,SAmEbC,WAnEa,GAmEEC,EAAD,IAAQ;AACrBA,MAAAA,EAAE,GAAGC,QAAQ,CAACD,EAAD,EAAI,EAAJ,CAAb;;AACA,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKd,KAAL,CAAWP,UAAX,CAAsBsB,MAA1C,EAAkDD,CAAC,EAAnD,EAAsD;AACrD,YAAIF,EAAE,KAAK,KAAKZ,KAAL,CAAWP,UAAX,CAAsBqB,CAAtB,EAAyBF,EAApC,EAAuC;AACtC,iBAAO,KAAKZ,KAAL,CAAWP,UAAX,CAAsBqB,CAAtB,EAAyBE,SAAzB,GAAqC,GAArC,GAA2C,KAAKhB,KAAL,CAAWP,UAAX,CAAsBqB,CAAtB,EAAyBG,QAA3E;AACA;AACD;AACD,KA1EY;;AAAA,SA4EbC,aA5Ea,GA4EIN,EAAD,IAAQ;AACvBA,MAAAA,EAAE,GAAGC,QAAQ,CAACD,EAAD,EAAI,EAAJ,CAAb;AACA,YAAMO,GAAG,GAAG,CAAC,GAAG,KAAKnB,KAAL,CAAWL,SAAf,EAA0B,GAAG,KAAKK,KAAL,CAAWH,QAAxC,CAAZ;;AACA,WAAK,IAAIiB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGK,GAAG,CAACJ,MAAxB,EAAgCD,CAAC,EAAjC,EAAoC;AACnC,YAAIF,EAAE,KAAKO,GAAG,CAACL,CAAD,CAAH,CAAOF,EAAlB,EAAqB;AACpB,iBAAOO,GAAG,CAACL,CAAD,CAAH,CAAOM,IAAd;AACA;AACD;AACD,KApFY;;AAAA,SAsFbC,UAtFa,GAsFCC,KAAD,IAAW;AACvB,UAAIC,QAAQ,GAAG,EAAf;AACA,UAAIC,IAAI,GAAG,KAAX;;AAEA,UAAIF,KAAK,CAACP,MAAN,KAAiB,CAArB,EAAuB;AACtBQ,QAAAA,QAAQ,GAAGD,KAAK,CAAC,CAAD,CAAL,CAASG,KAAT,CAAe,GAAf,CAAX;AACA,eAAO,QAAQ,KAAKxC,MAAL,CAAYsC,QAAQ,CAAC,CAAD,CAAR,GAAc,CAA1B,CAAR,GAAuC,GAAvC,GAA6CA,QAAQ,CAAC,CAAD,CAArD,GAA2D,IAA3D,GAAkEA,QAAQ,CAAC,CAAD,CAAjF;AACA;;AAED,WAAK,IAAIT,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGQ,KAAK,CAACP,MAA1B,EAAkCD,CAAC,EAAnC,EAAsC;AACrCS,QAAAA,QAAQ,CAACG,IAAT,CAAcJ,KAAK,CAACR,CAAD,CAAL,CAASW,KAAT,CAAe,GAAf,CAAd;AACA;;AAED,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,QAAQ,CAACR,MAA7B,EAAqCY,CAAC,EAAtC,EAAyC;AACxC,YAAIJ,QAAQ,CAACI,CAAD,CAAR,CAAY,CAAZ,MAAmBJ,QAAQ,CAACI,CAAC,GAAC,CAAH,CAAR,CAAc,CAAd,CAAnB,IAAwCJ,QAAQ,CAACI,CAAD,CAAR,CAAY,CAAZ,IAAiB,CAAlB,KAAyBd,QAAQ,CAACU,QAAQ,CAACI,CAAC,GAAC,CAAH,CAAR,CAAc,CAAd,CAAD,EAAkB,EAAlB,CAAxE,IAAiGJ,QAAQ,CAACI,CAAD,CAAR,CAAY,CAAZ,MAAmBJ,QAAQ,CAACI,CAAC,GAAC,CAAH,CAAR,CAAc,CAAd,CAAxH,EAAyI;AACxIH,UAAAA,IAAI,GAAG,IAAP;AACA;AACA;AACD;;AAED,UAAIA,IAAJ,EAAS;AACR,YAAII,GAAG,GAAG,QAAQ,KAAK3C,MAAL,CAAYsC,QAAQ,CAAC,CAAD,CAAR,CAAY,CAAZ,IAAiB,CAA7B,CAAR,GAA0C,GAA1C,GAAgDA,QAAQ,CAAC,CAAD,CAAR,CAAY,CAAZ,CAAhD,GAAiE,IAAjE,GAAwEA,QAAQ,CAAC,CAAD,CAAR,CAAY,CAAZ,CAAlF;;AACA,aAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,QAAQ,CAACR,MAA7B,EAAqCc,CAAC,EAAtC,EAAyC;AACxCD,UAAAA,GAAG,GAAGA,GAAG,GAAG,IAAN,GAAa,KAAK3C,MAAL,CAAYsC,QAAQ,CAACM,CAAD,CAAR,CAAY,CAAZ,IAAiB,CAA7B,CAAb,GAA+C,GAA/C,GAAqDN,QAAQ,CAACM,CAAD,CAAR,CAAY,CAAZ,CAArD,GAAsE,IAAtE,GAA6EN,QAAQ,CAACM,CAAD,CAAR,CAAY,CAAZ,CAAnF;AACA;;AACD,eAAOD,GAAP;AACA;;AAED,aAAO,UAAU,KAAK3C,MAAL,CAAYsC,QAAQ,CAAC,CAAD,CAAR,CAAY,CAAZ,IAAiB,CAA7B,CAAV,GAA4C,GAA5C,GAAkDA,QAAQ,CAAC,CAAD,CAAR,CAAY,CAAZ,CAAlD,GAAmE,IAAnE,GAA0EA,QAAQ,CAAC,CAAD,CAAR,CAAY,CAAZ,CAA1E,GAA2F,KAA3F,GAAmG,KAAKtC,MAAL,CAAYsC,QAAQ,CAACA,QAAQ,CAACR,MAAT,GAAkB,CAAnB,CAAR,CAA8B,CAA9B,IAAmC,CAA/C,CAAnG,GAAuJ,GAAvJ,GAA6JQ,QAAQ,CAACA,QAAQ,CAACR,MAAT,GAAkB,CAAnB,CAAR,CAA8B,CAA9B,CAA7J,GAAgM,IAAhM,GAAuMQ,QAAQ,CAACA,QAAQ,CAACR,MAAT,GAAkB,CAAnB,CAAR,CAA8B,CAA9B,CAA9M;AAEA,KApHY;;AAEZ,SAAKf,KAAL,GAAa;AACZD,MAAAA,IAAI,EAAE,KADM;AAEZE,MAAAA,GAAG,EAAE,EAFO;AAGZG,MAAAA,KAAK,EAAE,KAHK;AAIZd,MAAAA,QAAQ,EAAE,EAJE;AAKZG,MAAAA,UAAU,EAAE,EALA;AAMZE,MAAAA,SAAS,EAAE,EANC;AAOZE,MAAAA,QAAQ,EAAE;AAPE,KAAb;AASA;;AA2GDiC,EAAAA,MAAM,GAAE;AACP,UAAM;AAAC/B,MAAAA,IAAD;AAAOK,MAAAA,KAAP;AAAcH,MAAAA,GAAd;AAAmBX,MAAAA;AAAnB,QAA+B,KAAKU,KAA1C;AAEA,QAAI+B,WAAW,GAAG,EAAlB;AACA,QAAIC,QAAQ,GAAG,EAAf;AACA,QAAIC,KAAK,GAAG,EAAZ;AACA,QAAIC,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIpB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGxB,QAAQ,CAACyB,MAA7B,EAAqCD,CAAC,EAAtC,EAAyC;AACxC,UAAIxB,QAAQ,CAACwB,CAAD,CAAR,CAAYqB,MAAZ,KAAuB,SAA3B,EAAqC;AACpCF,QAAAA,KAAK,CAACP,IAAN,CAAWpC,QAAQ,CAACwB,CAAD,CAAnB;AACA,OAFD,MAGI;AACHoB,QAAAA,IAAI,CAACR,IAAL,CAAUpC,QAAQ,CAACwB,CAAD,CAAlB;AACA;AACD;;AAED,SAAK,IAAIa,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGM,KAAK,CAAClB,MAA1B,EAAkCY,CAAC,EAAnC,EAAsC;AACrCI,MAAAA,WAAW,CAACL,IAAZ,eACC,oBAAC,SAAD;AAAW,QAAA,UAAU,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,SAAD,CAAW,IAAX;AAAgB,QAAA,SAAS,EAAC,WAA1B;AAAsC,QAAA,MAAM,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA6C;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA4B,KAAKf,WAAL,CAAiBsB,KAAK,CAACN,CAAD,CAAL,CAASS,KAA1B,CAA5B,qBAA6E,KAAKlB,aAAL,CAAmBe,KAAK,CAACN,CAAD,CAAL,CAASU,OAA5B,CAA7E,OAAoH,KAAKhB,UAAL,CAAgBY,KAAK,CAACN,CAAD,CAAL,CAASL,KAAzB,CAApH,CAA7C,eACG,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,QAAlB;AAA2B,QAAA,IAAI,EAAC,IAAhC;AAAqC,QAAA,OAAO,EAAC,SAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADH,eAEG,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,MAAlB;AAAyB,QAAA,IAAI,EAAC,IAA9B;AAAmC,QAAA,OAAO,EAAC,QAA3C;AAAoD,QAAA,OAAO,EAAE,KAAKxB,UAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFH,CADD,eAKC,oBAAC,SAAD,CAAW,IAAX;AAAgB,QAAA,SAAS,EAAC,YAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwCmC,KAAK,CAACN,CAAD,CAAL,CAASW,KAAjD,CALD,CADD;AASA;;AAMD,wBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,eAEC;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEP,WADF,CAFD,eAKC;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBALD,eAMC;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD;AAAW,MAAA,UAAU,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,WAA1B;AAAsC,MAAA,MAAM,MAA5C;AAA6C,MAAA,QAAQ,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAA0D;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA1D,wDADD,eAGC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHD,CADD,eAMC,oBAAC,SAAD;AAAW,MAAA,UAAU,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,WAA1B;AAAsC,MAAA,MAAM,MAA5C;AAA6C,MAAA,QAAQ,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACK;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADL,yEADD,eAIC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,CAND,eAYC,oBAAC,SAAD;AAAW,MAAA,UAAU,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,WAA1B;AAAsC,MAAA,MAAM,MAA5C;AAA6C,MAAA,OAAO,EAAE,MAAM,KAAK7B,WAAL,CAAiB,uCAAjB,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACK;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADL,4DADD,eAIC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,CAZD,eAkBC,oBAAC,SAAD;AAAW,MAAA,UAAU,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,WAA1B;AAAsC,MAAA,MAAM,MAA5C;AAA6C,MAAA,QAAQ,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACK;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADL,0DADD,eAIC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,CAlBD,eAwBC,oBAAC,SAAD;AAAW,MAAA,UAAU,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,WAA1B;AAAsC,MAAA,MAAM,MAA5C;AAA6C,MAAA,OAAO,EAAE,MAAM,KAAKA,WAAL,CAAiB,6CAAjB,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACK;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADL,uFADD,eAIC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,CAxBD,eA8BC,oBAAC,SAAD;AAAW,MAAA,UAAU,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,WAA1B;AAAsC,MAAA,MAAM,MAA5C;AAA6C,MAAA,QAAQ,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAA0D;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA1D,qDADD,eAGC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHD,CA9BD,eAmCC,oBAAC,SAAD;AAAW,MAAA,UAAU,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,WAA1B;AAAsC,MAAA,MAAM,MAA5C;AAA6C,MAAA,QAAQ,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACK;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADL,2EADD,eAIC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,CAnCD,eAyCC,oBAAC,SAAD;AAAW,MAAA,UAAU,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,WAA1B;AAAsC,MAAA,MAAM,MAA5C;AAA6C,MAAA,OAAO,EAAE,MAAM,KAAKA,WAAL,CAAiB,uCAAjB,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACK;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADL,4DADD,eAIC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,CAzCD,eA+CC,oBAAC,SAAD;AAAW,MAAA,UAAU,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,WAA1B;AAAsC,MAAA,MAAM,MAA5C;AAA6C,MAAA,QAAQ,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACK;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADL,2DADD,eAIC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,CA/CD,eAqDC,oBAAC,SAAD;AAAW,MAAA,UAAU,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,WAA1B;AAAsC,MAAA,MAAM,MAA5C;AAA6C,MAAA,OAAO,EAAE,MAAM,KAAKA,WAAL,CAAiB,6CAAjB,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BACK;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADL,oFADD,eAIC,oBAAC,SAAD,CAAW,IAAX;AAAgB,MAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD,CArDD,CAND,eAkEC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAEH,IAAb;AAAmB,MAAA,MAAM,EAAE,KAAKD,UAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACO,oBAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG,oBAAC,KAAD,CAAO,KAAP;AAAa,MAAA,EAAE,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADH,CADP,eAIO,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,8BAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACF,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,QAAQ,EAAE,KAAKO,WAA7B;AAA0C,MAAA,EAAE,EAAC,UAA7C;AAAwD,MAAA,IAAI,EAAC,GAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADE,CADD,CADD,eAMC,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKP,UAAtB;AAAkC,MAAA,OAAO,EAAC,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADH,eAII,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,MAAMS,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAvB;AAA6C,MAAA,OAAO,EAAC,SAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,CAND,CAJP,CADD,CAlED,eAwFC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAEJ,KAAb;AAAoB,MAAA,MAAM,EAAE,MAAM,KAAKF,WAAL,CAAiB,EAAjB,CAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,KAAD,CAAO,KAAP;AAAa,MAAA,EAAE,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADD,CADD,eAIC,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAID,GAAJ,CADD,CAJD,eAOC,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,MAAM,KAAKC,WAAL,CAAiB,EAAjB,CAAvB;AAA6C,MAAA,OAAO,EAAC,WAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADD,CAPD,CADD,CAxFD,CADD;AAgHA;;AAvQqC;;AA4QvC,eAAezB,SAAf","sourcesContent":["import React from 'react';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Button from 'react-bootstrap/Button'\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\nimport moment from 'moment';\nimport './Messages.css';\n\n\nclass AMessages extends React.Component{\n\tconstructor(){\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tshow: false,\n\t\t\tmsg: '',\n\t\t\tdshow: false,\n\t\t\tmessages: [],\n\t\t\tpeopleList: [],\n\t\t\tentryList: [],\n\t\t\tcallList: []\n\t\t}\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.loadMessages();\n\t\tthis.loadUsers();\n\t\tthis.loadEntries();\n\t\tthis.loadCallTypes();\n\t}\n\n\tmonths = moment.months(); // List of each month\n\n\tloadMessages = () => {\n\t\tfetch('http://localhost:3000/amessages')\n\t\t\t.then(response => response.json())\n\t\t\t.then(messages => this.setState({\n\t\t\t\tmessages: messages\n\t\t\t}));\n\t}\n\tloadUsers = () => {\n\t\tfetch('http://localhost:3000/people')\n\t\t\t.then(response => response.json())\n\t\t\t.then(users => this.setState({peopleList: users}));\n\t}\n\n\tloadEntries = () => {\n\t\tfetch('http://localhost:3000/sked/entries')\n\t\t\t.then(response => response.json())\n\t\t\t.then(entries => this.setState({entryList: entries}));\n\t}\n\n\tloadCallTypes = () => {\n\t\tfetch('http://localhost:3000/callTypes')\n\t\t\t.then(response => response.json())\n\t\t\t.then(calls => this.setState({callList: calls}));\n\t}\n\t\n\n\ttoggleShow = () => {\n\t\tthis.setState({\n\t\t\tshow: !this.state.show,\n\t\t\tmsg: ''\n\t\t});\n\t}\n\n\ttoggleDShow = (route) => {\n\t    this.setState({ \n\t\t\tdshow: !this.state.dshow,\n\t\t    msg: route\n\t   \t});\n\t };\n\n\tonMsgChange = (event) => {\n\t\tconsole.log(event.target.value);\n\t\tthis.setState({msg: event.target.value});\n\t}\n\n\tdocIdToName = (id) => {\n\t\tid = parseInt(id,10);\n\t\tfor (let i = 0; i < this.state.peopleList.length; i++){\n\t\t\tif (id === this.state.peopleList[i].id){\n\t\t\t\treturn this.state.peopleList[i].firstname + ' ' + this.state.peopleList[i].lastname;\n\t\t\t}\n\t\t}\n\t}\n\n\tentryIdToName = (id) => {\n\t\tid = parseInt(id,10);\n\t\tconst arr = [...this.state.entryList, ...this.state.callList]\n\t\tfor (let i = 0; i < arr.length; i++){\n\t\t\tif (id === arr[i].id){\n\t\t\t\treturn arr[i].name;\n\t\t\t}\n\t\t}\n\t}\n\n\tdateStyler = (dates) => {\n\t\tlet splitArr = [];\n\t\tlet flag = false;\n\n\t\tif (dates.length === 1){\n\t\t\tsplitArr = dates[0].split('/');\n\t\t\treturn 'on ' + this.months[splitArr[0] - 1] + ' ' + splitArr[1] + ', ' + splitArr[2];\n\t\t}\n\n\t\tfor (let i = 0; i < dates.length; i++){\n\t\t\tsplitArr.push(dates[i].split('/'));\n\t\t}\n\n\t\tfor (let n = 1; n < splitArr.length; n++){\n\t\t\tif (splitArr[n][0] !== splitArr[n-1][0] || (splitArr[n][1] - 1) !== parseInt(splitArr[n-1][1],10) || splitArr[n][2] !== splitArr[n-1][2]){\n\t\t\t\tflag = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (flag){\n\t\t\tlet str = \"on \" + this.months[splitArr[0][0] - 1] + ' ' + splitArr[0][1] + ', ' + splitArr[0][2];\n\t\t\tfor (let j = 1; j < splitArr.length; j++){\n\t\t\t\tstr = str + ', ' + this.months[splitArr[j][0] - 1] + ' ' + splitArr[j][1] + ', ' + splitArr[j][2];\n\t\t\t}\n\t\t\treturn str;\n\t\t}\n\n\t\treturn 'from ' + this.months[splitArr[0][0] - 1] + ' ' + splitArr[0][1] + ', ' + splitArr[0][2] + ' - ' + this.months[splitArr[splitArr.length - 1][0] - 1] + ' ' + splitArr[splitArr.length - 1][1] + ', ' + splitArr[splitArr.length - 1][2]\n\t\n\t}\n\n\trender(){\n\t\tconst {show, dshow, msg, messages} = this.state;\n\n\t\tlet pendingList = [];\n\t\tlet pastList = [];\n\t\tlet pends = [];\n\t\tlet past = [];\n\t\tfor (let i = 0; i < messages.length; i++){\n\t\t\tif (messages[i].status === 'pending'){\n\t\t\t\tpends.push(messages[i]);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tpast.push(messages[i]);\n\t\t\t}\n\t\t}\n\n\t\tfor (let n = 0; n < pends.length; n++){\n\t\t\tpendingList.push(\n\t\t\t\t<ListGroup horizontal>\n\t\t\t\t\t<ListGroup.Item className='pend list' action><p className=\"requestList\">{this.docIdToName(pends[n].docid)} has requested {this.entryIdToName(pends[n].entryid)} {this.dateStyler(pends[n].dates)}</p>\n\t\t\t\t\t  \t<Button className=\"accept\" size=\"sm\" variant=\"success\">Accept</Button>\n\t\t\t\t\t  \t<Button className=\"deny\" size=\"sm\" variant=\"danger\" onClick={this.toggleShow}>Deny</Button>\n\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t<ListGroup.Item className='dates list'>{pends[n].stamp}</ListGroup.Item>\n\t\t\t\t</ListGroup>\n\t\t\t)\n\t\t}\n\n\n\t\t\n\t\t\n\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<h4 className=\"requests\">Pending</h4>\n\t\t\t\t<div className=\"listStyleA\">\n\t\t\t\t\t{pendingList}\n\t\t\t\t</div>\n\t\t\t\t<h4 className=\"requests\">Past Requests</h4>\n\t\t\t\t<div className='listStyleE'>\n\t\t\t\t\t<ListGroup horizontal>\n\t\t\t\t\t\t<ListGroup.Item className='pend list' action disabled>You <span className='accepted'>accepted</span> John Smith's request for 1st call on July 17, 2020\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item className='edates list'>06/24/2020</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t\t<ListGroup horizontal>\n\t\t\t\t\t\t<ListGroup.Item className='pend list' action disabled>\n\t\t\t\t\t\t\tYou <span className='accepted'>accepted</span> Sally Jenkins request for vacation from July 2, 2020 - July 6, 2020\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item className='edates list'>06/17/2020</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t\t<ListGroup horizontal>\n\t\t\t\t\t\t<ListGroup.Item className='pend list' action onClick={() => this.toggleDShow(\"Sorry, I can't let you work that day.\")}>\n\t\t\t\t\t\t\tYou <span className='denied'>denied</span> Noah Menikefs's request for 2nd call on August 3, 2020\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item className='edates list'>05/29/2020</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t\t<ListGroup horizontal>\n\t\t\t\t\t\t<ListGroup.Item className='pend list' action disabled>\n\t\t\t\t\t\t\tYou <span className='accepted'>accepted</span> Donald Trump's request for 1st call on June 30, 2020\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item className='edates list'>04/22/2020</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t\t<ListGroup horizontal>\n\t\t\t\t\t\t<ListGroup.Item className='pend list' action onClick={() => this.toggleDShow(\"Sorry, I can't let you go on vacation then.\")}>\n\t\t\t\t\t\t\tYou <span className='denied'>denied</span> Justin Trudeau's request for vacation from September 3, 2020 - September 10, 2020\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item className='edates list'>01/08/2020</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t\t<ListGroup horizontal>\n\t\t\t\t\t\t<ListGroup.Item className='pend list' action disabled>You <span className='accepted'>accepted</span> Bob Joe's request for 1st call on July 17, 2020\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item className='edates list'>06/24/2020</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t\t<ListGroup horizontal>\n\t\t\t\t\t\t<ListGroup.Item className='pend list' action disabled>\n\t\t\t\t\t\t\tYou <span className='accepted'>accepted</span> James Johnson's request for vacation from July 2, 2020 - July 6, 2020\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item className='edates list'>06/17/2020</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t\t<ListGroup horizontal>\n\t\t\t\t\t\t<ListGroup.Item className='pend list' action onClick={() => this.toggleDShow(\"Sorry, I can't let you work that day.\")}>\n\t\t\t\t\t\t\tYou <span className='denied'>denied</span> Random Person's request for 2nd call on August 3, 2020\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item className='edates list'>05/29/2020</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t\t<ListGroup horizontal>\n\t\t\t\t\t\t<ListGroup.Item className='pend list' action disabled>\n\t\t\t\t\t\t\tYou <span className='accepted'>accepted</span> Nikhil Ismail's request for 1st call on June 30, 2020\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item className='edates list'>04/22/2020</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t\t<ListGroup horizontal>\n\t\t\t\t\t\t<ListGroup.Item className='pend list' action onClick={() => this.toggleDShow(\"Sorry, I can't let you go on vacation then.\")}>\n\t\t\t\t\t\t\tYou <span className='denied'>denied</span> Hudson Leon's request for vacation from September 3, 2020 - September 10, 2020\n\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t<ListGroup.Item className='edates list'>01/08/2020</ListGroup.Item>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</div>\n\t\t\t\t<div className='modal'>\n\t\t\t\t\t<Modal show={show} onHide={this.toggleShow}>\n        \t\t\t\t<Modal.Header closeButton>\n          \t\t\t\t\t<Modal.Title id='modalTitle'>Denied Request Explanation</Modal.Title>\n       \t \t\t\t\t</Modal.Header>\n        \t\t\t\t<Form>\n        \t\t\t\t\t<Modal.Body>\n\t        \t\t\t\t\t<Form.Group controlId=\"exampleForm.ControlTextarea1\">\n\t    \t\t\t\t\t\t\t<Form.Control onChange={this.onMsgChange} as=\"textarea\" rows=\"4\" />\n\t  \t\t\t\t\t\t\t</Form.Group>\n        \t\t\t\t\t</Modal.Body>\n        \t\t\t\t\t<Modal.Footer>\n          \t\t\t\t\t\t<Button onClick={this.toggleShow} variant=\"secondary\" >\n            \t\t\t\t\t\tClose\n          \t\t\t\t\t\t</Button>\n          \t\t\t\t\t \t<Button onClick={() => console.log('click')} variant=\"primary\" >\n            \t\t\t\t\t\tSubmit\n          \t\t\t\t\t\t</Button>\n\t        \t\t\t\t</Modal.Footer>\n\t        \t\t\t</Form>\n      \t\t\t\t</Modal>\n\t\t\t\t</div>\n\t\t\t\t<div className='modal'>\n\t\t\t\t\t<Modal show={dshow} onHide={() => this.toggleDShow('')}>\n\t\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t\t<Modal.Title id='modalTitle'>Denied Request Explanation</Modal.Title>\n\t\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\t<Modal.Body>\n\t\t\t\t\t\t\t<p>{msg}</p>\n\t\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t\t<Button onClick={() => this.toggleDShow('')} variant=\"secondary\" >\n\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Modal.Footer>\n\t\t\t\t\t</Modal>\n\t\t\t\t</div>\n\n\n\t\t\t</div>\n\n\t\t);\n\n\n\n\t}\n\n\n}\n\nexport default AMessages;"]},"metadata":{},"sourceType":"module"}