{"ast":null,"code":"var _jsxFileName = \"/Users/noah.menikefs/Desktop/menisked/MeniSked/src/App.js\";\nimport React, { Component } from 'react';\nimport Navigation from './Components/Navigation/Navigation';\nimport Login from './Components/Login/Login';\nimport Register from './Components/Login/Register';\nimport PerSchedule from './Components/Schedules/PerSchedule';\nimport PubSchedule from './Components/Schedules/PubSchedule';\nimport CSchedule from './Components/Schedules/CSchedule';\nimport Account from './Components/Account/Account';\nimport AMessages from './Components/Messages/AMessages';\nimport EMessages from './Components/Messages/EMessages';\nimport Holidays from './Components/Settings/Holidays';\nimport CallTypes from './Components/Settings/CallTypes';\nimport People from './Components/Settings/People';\nimport Entries from './Components/Settings/Entries';\nimport moment from 'moment';\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.loadUser = data => {\n      this.setState({\n        user: {\n          id: data.id,\n          firstname: data.firstname,\n          lastname: data.lastname,\n          email: data.email,\n          colour: data.colour,\n          department: data.department,\n          isadmin: data.isadmin,\n          isactive: data.isactive,\n          worksked: data.worksked\n        }\n      });\n    };\n\n    this.loadCallTypes = () => {\n      fetch('http://localhost:3000/callTypes').then(response => response.json()).then(calls => this.setState({\n        callList: calls.sort(function (a, b) {\n          return a.priority - b.priority;\n        })\n      }));\n    };\n\n    this.onRouteChange = (route, isSignedIn = true) => {\n      this.setState({\n        isSignedIn: isSignedIn,\n        route: route\n      });\n    };\n\n    this.validateEmail = str => {\n      let first = '';\n      let second = '';\n      let third = '';\n      let index = -1;\n      let flag1 = false;\n      let flag2 = false;\n\n      for (let i = 0; i < str.length; i++) {\n        if (!flag1 && str.charAt(i) === '@') {\n          first = str.substring(0, i);\n          index = i;\n          flag1 = true;\n        } else if (flag1 && !flag2 && str.charAt(i) === '.') {\n          second = str.substring(index + 1, i);\n          third = str.substring(i + 1);\n          flag2 = true;\n          break;\n        }\n      }\n\n      if (first.length > 0 && second.length > 0 && third.length > 0) {\n        return true;\n      }\n\n      return false;\n    };\n\n    this.state = {\n      today: moment(),\n      isSignedIn: false,\n      route: 'Login',\n      callList: [],\n      user: {\n        id: '',\n        firstname: '',\n        lastname: 'Ismail',\n        email: '',\n        colour: '',\n        department: '',\n        isadmin: false,\n        isactive: true,\n        worksked: []\n      },\n      entries: [\"Request No Call\", \"Vacation\", \"Staycation\", \"No Assignment\", \"Not Available\", \"Not Available Night\", \"Assign Call Type\"]\n    };\n  }\n\n  /*\n  Different cases:\n  Login\n  Register\n  Personal Schedule\n  Published Schedule\n  Call Schedule\n  Account Information\n  Admin Messages\n  Messages\n  Holidays\n  Call Types\n  People\n  Entries\n  */\n  //used for rendering when signed in \n  inRenderSwitch(route) {\n    switch (route) {\n      case \"Personal Schedule\":\n        return /*#__PURE__*/React.createElement(PerSchedule, {\n          today: this.state.today,\n          entries: this.state.entries,\n          user: this.state.user,\n          testisadmin: this.state.user.isadmin,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 16\n          }\n        });\n\n      case 'Published Schedule':\n        return /*#__PURE__*/React.createElement(PubSchedule, {\n          today: this.state.today,\n          user: this.state.user,\n          testisadmin: this.state.user.isadmin,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 16\n          }\n        });\n\n      case 'Call Schedule':\n        return /*#__PURE__*/React.createElement(CSchedule, {\n          today: this.state.today,\n          user: this.state.user,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 16\n          }\n        });\n\n      case 'Account Information':\n        return /*#__PURE__*/React.createElement(Account, {\n          loadUser: this.loadUser,\n          user: this.state.user,\n          validateEmail: this.validateEmail,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 16\n          }\n        });\n\n      case 'Admin Messages':\n        return /*#__PURE__*/React.createElement(AMessages, {\n          user: this.state.user,\n          today: this.state.today,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 16\n          }\n        });\n\n      case 'Messages':\n        return /*#__PURE__*/React.createElement(EMessages, {\n          user: this.state.user,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 16\n          }\n        });\n\n      case 'Holidays':\n        return /*#__PURE__*/React.createElement(Holidays, {\n          today: this.state.today,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 16\n          }\n        });\n\n      case 'Call Types':\n        return /*#__PURE__*/React.createElement(CallTypes, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 16\n          }\n        });\n\n      case 'People':\n        return /*#__PURE__*/React.createElement(People, {\n          department: this.state.user.department,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 16\n          }\n        });\n\n      case 'Entries':\n        return /*#__PURE__*/React.createElement(Entries, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 16\n          }\n        });\n\n      default:\n        return /*#__PURE__*/React.createElement(PerSchedule, {\n          entries: this.state.entries,\n          user: this.state.user,\n          testisadmin: this.state.user.isadmin,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 16\n          }\n        });\n    }\n  } //Used for rendering when signed out\n\n\n  outRenderSwitch(route) {\n    return route === 'Login' ? /*#__PURE__*/React.createElement(Login, {\n      validateEmail: this.validateEmail,\n      loadUser: this.loadUser,\n      onRouteChange: this.onRouteChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 32\n      }\n    }) : /*#__PURE__*/React.createElement(Register, {\n      validateEmail: this.validateEmail,\n      loadUser: this.loadUser,\n      onRouteChange: this.onRouteChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 138\n      }\n    });\n  }\n\n  render() {\n    const {\n      route,\n      isSignedIn,\n      user\n    } = this.state;\n    const {\n      isadmin\n    } = user;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }, !isSignedIn ? this.outRenderSwitch(route) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Navigation, {\n      onRouteChange: this.onRouteChange,\n      testisadmin: isadmin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }, route), this.inRenderSwitch(route))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/noah.menikefs/Desktop/menisked/MeniSked/src/App.js"],"names":["React","Component","Navigation","Login","Register","PerSchedule","PubSchedule","CSchedule","Account","AMessages","EMessages","Holidays","CallTypes","People","Entries","moment","App","constructor","loadUser","data","setState","user","id","firstname","lastname","email","colour","department","isadmin","isactive","worksked","loadCallTypes","fetch","then","response","json","calls","callList","sort","a","b","priority","onRouteChange","route","isSignedIn","validateEmail","str","first","second","third","index","flag1","flag2","i","length","charAt","substring","state","today","entries","inRenderSwitch","outRenderSwitch","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Navigation from './Components/Navigation/Navigation';\nimport Login from './Components/Login/Login';\nimport Register from './Components/Login/Register';\nimport PerSchedule from './Components/Schedules/PerSchedule';\nimport PubSchedule from './Components/Schedules/PubSchedule';\nimport CSchedule from './Components/Schedules/CSchedule';\nimport Account from './Components/Account/Account';\nimport AMessages from './Components/Messages/AMessages';\nimport EMessages from './Components/Messages/EMessages';\nimport Holidays from './Components/Settings/Holidays';\nimport CallTypes from './Components/Settings/CallTypes';\nimport People from './Components/Settings/People';\nimport Entries from './Components/Settings/Entries';\nimport moment from 'moment';\nimport './App.css';\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.state = {\n      today: moment(),\n      isSignedIn: false,\n      route: 'Login',\n      callList: [],\n      user:{\n        id: '',\n        firstname: '',\n        lastname: 'Ismail',\n        email: '',\n        colour: '',\n        department: '',\n        isadmin: false,\n        isactive: true,\n        worksked: []\n      },\n      entries: [\n        \"Request No Call\",\n        \"Vacation\",\n        \"Staycation\",\n        \"No Assignment\",\n        \"Not Available\",\n        \"Not Available Night\",\n        \"Assign Call Type\"\n      ]\n    }\n  }\n\n  loadUser = (data) => {\n    this.setState({user: {\n      id: data.id,\n      firstname: data.firstname,\n      lastname: data.lastname,\n      email: data.email,\n      colour: data.colour,\n      department: data.department,\n      isadmin: data.isadmin,\n      isactive: data.isactive,\n      worksked: data.worksked\n    }})\n  }\n\n  loadCallTypes = () => {\n    fetch('http://localhost:3000/callTypes')\n      .then(response => response.json())\n      .then(calls => this.setState({callList: calls.sort(function(a, b){return a.priority - b.priority})}));\n  }\n\n\n  /*\n  Different cases:\n  Login\n  Register\n  Personal Schedule\n  Published Schedule\n  Call Schedule\n  Account Information\n  Admin Messages\n  Messages\n  Holidays\n  Call Types\n  People\n  Entries\n  */\n  //used for rendering when signed in \n  inRenderSwitch(route){\n    switch(route){\n      case \"Personal Schedule\": \n        return <PerSchedule today={this.state.today} entries={this.state.entries}  user={this.state.user} testisadmin={this.state.user.isadmin}/>\n      case 'Published Schedule': \n        return <PubSchedule today={this.state.today} user={this.state.user} testisadmin={this.state.user.isadmin}/>\n      case 'Call Schedule': \n        return <CSchedule today={this.state.today} user={this.state.user}/>\n      case 'Account Information': \n        return <Account loadUser={this.loadUser} user={this.state.user} validateEmail={this.validateEmail}/>\n      case 'Admin Messages': \n        return <AMessages user={this.state.user} today={this.state.today} />\n      case 'Messages': \n        return <EMessages user={this.state.user}/>\n      case 'Holidays': \n        return <Holidays today={this.state.today}/>\n      case 'Call Types': \n        return <CallTypes />\n      case 'People': \n        return <People department={this.state.user.department}/>\n        case 'Entries': \n        return <Entries/>\n      default:\n        return <PerSchedule entries={this.state.entries}  user={this.state.user} testisadmin={this.state.user.isadmin}/>\n    }\n  }\n\n\n  //Used for rendering when signed out\n  outRenderSwitch(route){\n    return route === 'Login' ? <Login validateEmail={this.validateEmail} loadUser={this.loadUser} onRouteChange={this.onRouteChange}/> : <Register validateEmail={this.validateEmail} loadUser={this.loadUser} onRouteChange={this.onRouteChange}/>\n  }\n\n  onRouteChange = (route, isSignedIn = true) => {\n    this.setState({\n      isSignedIn: isSignedIn,\n      route: route\n    });\n  }\n\n\n  validateEmail = (str) => {\n    let first = '';\n    let second = '';\n    let third = '';\n    let index = -1;\n    let flag1 = false;\n    let flag2 = false;\n    for (let i = 0; i < str.length; i++){\n      if (!flag1 && str.charAt(i) === '@'){\n        first = str.substring(0,i);\n        index = i;\n        flag1 = true;\n      }\n      else if (flag1 && !flag2 && str.charAt(i) === '.'){\n        second = str.substring(index+1, i);\n        third = str.substring(i+1);\n        flag2 = true;\n        break;\n      }\n    }\n    if (first.length > 0 && second.length > 0 && third.length > 0){\n      return true;\n    }\n    return false;\n\n  }\n\n  render(){\n     const {route, isSignedIn, user} = this.state;\n     const {isadmin} = user;\n     return (\n        <div>\n        <div className=\"App\">\n          { (! isSignedIn)\n            ? this.outRenderSwitch(route)\n            : <div>\n                <Navigation onRouteChange={this.onRouteChange} testisadmin={isadmin}/>\n                <br/>\n                <h1>{route}</h1>\n                {this.inRenderSwitch(route)}\n              </div>\n          }\n\n        </div>\n        </div>\n      );\n  }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}