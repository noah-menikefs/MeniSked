{"ast":null,"code":"var _jsxFileName = \"/Users/noah.menikefs/Desktop/menisked/MeniSked/src/Components/Settings/CallTypes.js\";\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Scroll from './../Scroll/Scroll';\nimport Form from 'react-bootstrap/Form';\nimport './Settings.css';\n\nclass CallTypes extends React.Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      this.loadCallTypes();\n    };\n\n    this.loadCallTypes = () => {\n      fetch('http://localhost:3000/callTypes').then(response => response.json()).then(calls => this.setState({\n        callList: calls.sort(function (a, b) {\n          return a.priority - b.priority;\n        })\n      }));\n    };\n\n    this.sortList = () => {\n      let newArr = this.state.callList.sort(function (a, b) {\n        return a.priority - b.priority;\n      });\n      this.setState({\n        callList: newArr\n      });\n      console.log(this.state.callList);\n    };\n\n    this.addOrEdit = () => {\n      this.addCall();\n    };\n\n    this.addCall = () => {\n      fetch('http://localhost:3000/callTypes', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: this.state.callName,\n          active: this.state.isactive,\n          priority: parseInt(this.state.priority, 10)\n        })\n      }).then(response => response.json()).then(call => {\n        if (call) {\n          this.loadCallTypes();\n        }\n      });\n      this.setState({\n        callName: '',\n        priority: '',\n        isactive: ''\n      });\n    };\n\n    this.deleteCall = e => {\n      fetch('http://localhost:3000/callTypes', {\n        method: 'delete',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: parseInt(e.target.parentNode.id, 10)\n        })\n      }).then(response => response.json()).then(calls => {\n        if (calls) {\n          this.loadCallTypes();\n        }\n      });\n    };\n\n    this.onPriorityChange = e => {\n      this.setState({\n        priority: e.target.value\n      });\n    };\n\n    this.onNameChange = e => {\n      this.setState({\n        callName: e.target.value\n      });\n    };\n\n    this.onActiveChange = () => {\n      this.setState({\n        isactive: !this.state.isactive\n      });\n    };\n\n    this.state = {\n      callList: [],\n      callName: '',\n      priority: 1,\n      isactive: false\n    };\n  }\n\n  render() {\n    const {\n      callList,\n      callName,\n      priority,\n      isactive\n    } = this.state;\n    let priorityList = [];\n\n    for (let j = 0; j < callList.length; j++) {\n      priorityList.push( /*#__PURE__*/React.createElement(\"li\", {\n        key: callList[j].name,\n        id: callList[j].id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 5\n        }\n      }, callList[j].name, /*#__PURE__*/React.createElement(Button, {\n        key: j,\n        onClick: () => console.log(\"click\"),\n        className: \"edit butn\",\n        size: \"sm\",\n        variant: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 6\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n        key: -j - 1,\n        onClick: this.deleteCall,\n        className: \"delete butn\",\n        size: \"sm\",\n        variant: \"danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 6\n        }\n      }, \"Delete\")));\n    }\n\n    let prioritySelect = [];\n\n    for (let n = 1; n <= callList.length + 1; n++) {\n      prioritySelect.push( /*#__PURE__*/React.createElement(\"option\", {\n        value: n,\n        key: n,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 24\n        }\n      }, n));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }\n    }, \"Priority List\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }\n    }, \"Add Call Type\")), /*#__PURE__*/React.createElement(Scroll, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"ol\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }\n    }, priorityList))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ct right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    }, \"Add/Edit Calls\")), /*#__PURE__*/React.createElement(Form, {\n      id: \"callForm\",\n      onSubmit: this.addOrEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"box\",\n      style: {\n        border: '2px solid black',\n        height: '200px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      id: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      required: true,\n      value: callName,\n      onChange: this.onNameChange,\n      type: \"text\",\n      placeholder: \"Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      id: \"priority\",\n      controlId: \"exampleForm.ControlSelect1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 12\n      }\n    }, \"Priority\"), /*#__PURE__*/React.createElement(Form.Control, {\n      onChange: this.onPriorityChange,\n      value: priority,\n      as: \"select\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 12\n      }\n    }, prioritySelect)), /*#__PURE__*/React.createElement(Form.Group, {\n      id: \"activeCheck\",\n      controlId: \"formBasicCheckbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form.Check, {\n      onChange: this.onActiveChange,\n      checked: isactive,\n      type: \"checkbox\",\n      label: \"Active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 12\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      id: \"callSub\",\n      variant: \"secondary\",\n      type: \"cancel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 8\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      id: \"callSub\",\n      variant: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 8\n      }\n    }, \"Submit\")))));\n  }\n\n}\n\nexport default CallTypes;","map":{"version":3,"sources":["/Users/noah.menikefs/Desktop/menisked/MeniSked/src/Components/Settings/CallTypes.js"],"names":["React","Button","Scroll","Form","CallTypes","Component","constructor","componentDidMount","loadCallTypes","fetch","then","response","json","calls","setState","callList","sort","a","b","priority","sortList","newArr","state","console","log","addOrEdit","addCall","method","headers","body","JSON","stringify","name","callName","active","isactive","parseInt","call","deleteCall","e","id","target","parentNode","onPriorityChange","value","onNameChange","onActiveChange","render","priorityList","j","length","push","prioritySelect","n","border","height"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Scroll from './../Scroll/Scroll'\nimport Form from 'react-bootstrap/Form'\nimport './Settings.css';\n\nclass CallTypes extends React.Component{\n\tconstructor(){\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tcallList: [\n\n\n\t\t\t],\n\t\t\tcallName: '',\n\t\t\tpriority: 1,\n\t\t\tisactive: false\n\t\t}\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.loadCallTypes();\n\t}\n\n\tloadCallTypes = () => {\n\t\tfetch('http://localhost:3000/callTypes')\n\t\t\t.then(response => response.json())\n\t\t\t.then(calls => this.setState({callList: calls.sort(function(a, b){return a.priority - b.priority})}));\n\t}\n\n\tsortList = () => {\n\t\tlet newArr = this.state.callList.sort(function(a, b){return a.priority - b.priority})\n\t\tthis.setState({callList: newArr});\n\t\tconsole.log(this.state.callList);\n\t}\n\n\taddOrEdit = () => {\n\t\tthis.addCall();\n\t}\n\n\taddCall = () => {\n\t\tfetch('http://localhost:3000/callTypes', {\n\t\t\tmethod: 'post',\n\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname: this.state.callName,\n\t\t\t\tactive: this.state.isactive,\n\t\t\t\tpriority: parseInt(this.state.priority, 10)\n\n\t\t\t})\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(call => {\n\t\t\t\tif (call){\n\t\t\t\t\tthis.loadCallTypes();\n\t\t\t\t}\n\t\t\t})\n\t\tthis.setState({\n\t\t\tcallName: '',\n\t\t\tpriority: '',\n\t\t\tisactive: ''\n\t\t})\n\t}\n\n\tdeleteCall = (e) => {\n\t\tfetch('http://localhost:3000/callTypes', {\n\t\t\tmethod: 'delete',\n\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tid: parseInt(e.target.parentNode.id,10)\n\t\t\t})\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(calls => {\n\t\t\t\tif (calls){\n\t\t\t\t\tthis.loadCallTypes();\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\tonPriorityChange = (e) => {\n\t\tthis.setState({priority: e.target.value});\n\t}\n\n\tonNameChange = (e) => {\n\t\tthis.setState({callName: e.target.value});\n\t}\n\n\tonActiveChange = () => {\n\t\tthis.setState({isactive: !this.state.isactive});\n\t}\n\n\trender(){\n\t\tconst {callList, callName, priority, isactive} = this.state;\n\n\t\tlet priorityList = [];\n\t\tfor (let j = 0; j < callList.length; j++){\n\t\t\tpriorityList.push(\n\t\t\t\t<li key={callList[j].name} id={callList[j].id}>\n\t\t\t\t\t{callList[j].name}\n\t\t\t\t\t<Button key={j} onClick={() => console.log(\"click\")} className=\"edit butn\" size=\"sm\" variant=\"secondary\">Edit</Button>\n\t\t\t\t\t<Button key={-j-1} onClick={this.deleteCall} className=\"delete butn\" size=\"sm\" variant=\"danger\">Delete</Button>\n\t\t\t\t</li>\n\t\t\t)\n\t\t}\n\n\t\tlet prioritySelect = [];\n\t\tfor (let n = 1; n <= callList.length+1; n++){\n\t\t\tprioritySelect.push(<option value={n} key={n}>{n}</option>);\n\t\t}\n\n\t\treturn(\n\t\t\t<div className=\"body\">\n\t\t\t\t<div className=\"left\">\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"top\">\n\t\t\t\t\t\t<h4 className=\"subtitle\">Priority List</h4>\n\t\t\t\t\t\t<Button variant=\"primary\">Add Call Type</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Scroll>\n\t\t\t\t\t\t<ol className=\"\">\n\t\t\t\t\t\t\t{priorityList}\n\t\t\t\t\t\t</ol>\n\t\t\t\t\t</Scroll>\n\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ct right\">\n\t\t\t\t\t<div className=\"top\">\n\t\t\t\t\t\t<h4 className=\"subtitle\">Add/Edit Calls</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Form id=\"callForm\" onSubmit={this.addOrEdit}>\n\t\t\t\t\t\t<div id=\"box\" style={{border:'2px solid black', height: '200px'}}>\n\t\t\t\t\t\t\t<Form.Group id=\"name\">\n\t\t\t\t\t\t\t\t<Form.Control required value={callName} onChange={this.onNameChange} type=\"text\" placeholder=\"Name\" />\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group id=\"priority\" controlId=\"exampleForm.ControlSelect1\">\n    \t\t\t\t\t\t\t<Form.Label>Priority</Form.Label>\n   \t\t\t\t\t\t\t\t<Form.Control onChange={this.onPriorityChange} value={priority} as=\"select\">\n\t   \t\t\t\t\t\t\t\t{prioritySelect}\n   \t\t\t\t \t\t\t\t</Form.Control>\n  \t\t\t\t\t\t\t</Form.Group> \n\t\t\t\t\t\t  <Form.Group  id=\"activeCheck\" controlId=\"formBasicCheckbox\">\n\t\t\t\t\t\t    \t<Form.Check onChange={this.onActiveChange} checked={isactive} type=\"checkbox\" label=\"Active\"/>\n\t\t\t\t\t\t \t </Form.Group>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bottom\">\n\t\t\t\t\t\t\t<Button id='callSub' variant=\"secondary\" type=\"cancel\">\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button id='callSub' variant=\"primary\" type=\"submit\">\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Form>\n\t\t\t\t\t\n\n\n\t\t\t\t</div>\n\t\t\t</div>\n\n\n\n\t\t);\n\n\n\n\t}\n\n\n}\n\nexport default CallTypes;"]},"metadata":{},"sourceType":"module"}